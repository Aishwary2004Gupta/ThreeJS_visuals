<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3x3 Rubik's Cube</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #333;
      perspective: 1000px;
    }

    .scene {
      width: 200px;
      height: 200px;
      position: relative;
      transform-style: preserve-3d;
      transform: rotateX(-30deg) rotateY(-45deg);
      animation: rotate 20s infinite linear; /* Continuous rotation */
    }

    .cubie {
      width: 60px;
      height: 60px;
      position: absolute;
      transform-style: preserve-3d;
      transition: transform 1s ease-in-out; /* Smooth face rotations */
    }

    .face {
      position: absolute;
      width: 60px;
      height: 60px;
      background-color: rgba(255, 255, 255, 0.8);
      border: 2px solid #000;
      box-sizing: border-box;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 20px;
      font-weight: bold;
      color: #000;
      box-shadow: 10 10 10px rgba(0, 0, 0, 0.5);
      background: linear-gradient(145deg, rgba(255, 254, 254, 0.9), rgba(0, 0, 0, 0.1));
    }

    .front  { transform: translateZ(30px); }
    .back   { transform: rotateY(180deg) translateZ(30px); }
    .right  { transform: rotateY(90deg) translateZ(30px); }
    .left   { transform: rotateY(-90deg) translateZ(30px); }
    .top    { transform: rotateX(90deg) translateZ(30px); }
    .bottom { transform: rotateX(-90deg) translateZ(30px); }

    .red    { background-color: red; }
    .orange { background-color: orange; }
    .blue   { background-color: blue; }
    .green  { background-color: green; }
    .white  { background-color: white; }
    .yellow { background-color: yellow; }

    @keyframes rotate {
      0%   { transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg); }
      100% { transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg); }
    }
  </style>
</head>
<body>
  <div class="scene">
    <!-- Layer 1 (Back Layer) -->
    <div class="cubie" style="transform: translate3d(-60px, -60px, -60px);">
      <div class="face front red"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left green"></div>
      <div class="face top white"></div>
      <div class="face bottom"></div>
    </div>
    <div class="cubie" style="transform: translate3d(0, -60px, -60px);">
      <div class="face front red"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left"></div>
      <div class="face top white"></div>
      <div class="face bottom"></div>
    </div>
    <div class="cubie" style="transform: translate3d(60px, -60px, -60px);">
      <div class="face front red"></div>
      <div class="face back"></div>
      <div class="face right blue"></div>
      <div class="face left"></div>
      <div class="face top white"></div>
      <div class="face bottom"></div>
    </div>
    <div class="cubie" style="transform: translate3d(-60px, 0, -60px);">
      <div class="face front red"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left green"></div>
      <div class="face top"></div>
      <div class="face bottom"></div>
    </div>
    <div class="cubie" style="transform: translate3d(0, 0, -60px);">
      <div class="face front red"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left"></div>
      <div class="face top"></div>
      <div class="face bottom"></div>
    </div>
    <div class="cubie" style="transform: translate3d(60px, 0, -60px);">
      <div class="face front red"></div>
      <div class="face back"></div>
      <div class="face right blue"></div>
      <div class="face left"></div>
      <div class="face top"></div>
      <div class="face bottom"></div>
    </div>
    <div class="cubie" style="transform: translate3d(-60px, 60px, -60px);">
      <div class="face front red"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left green"></div>
      <div class="face top"></div>
      <div class="face bottom yellow"></div>
    </div>
    <div class="cubie" style="transform: translate3d(0, 60px, -60px);">
      <div class="face front red"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left"></div>
      <div class="face top"></div>
      <div class="face bottom yellow"></div>
    </div>
    <div class="cubie" style="transform: translate3d(60px, 60px, -60px);">
      <div class="face front red"></div>
      <div class="face back"></div>
      <div class="face right blue"></div>
      <div class="face left"></div>
      <div class="face top"></div>
      <div class="face bottom yellow"></div>
    </div>

    <!-- Layer 2 (Middle Layer) -->
    <div class="cubie" style="transform: translate3d(-60px, -60px, 0);">
      <div class="face front"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left green"></div>
      <div class="face top white"></div>
      <div class="face bottom"></div>
    </div>
    <div class="cubie" style="transform: translate3d(0, -60px, 0);">
      <div class="face front"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left"></div>
      <div class="face top white"></div>
      <div class="face bottom"></div>
    </div>
    <div class="cubie" style="transform: translate3d(60px, -60px, 0);">
      <div class="face front"></div>
      <div class="face back"></div>
      <div class="face right blue"></div>
      <div class="face left"></div>
      <div class="face top white"></div>
      <div class="face bottom"></div>
    </div>
    <div class="cubie" style="transform: translate3d(-60px, 0, 0);">
      <div class="face front"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left green"></div>
      <div class="face top"></div>
      <div class="face bottom"></div>
    </div>
    <div class="cubie" style="transform: translate3d(0, 0, 0);">
      <div class="face front"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left"></div>
      <div class="face top"></div>
      <div class="face bottom"></div>
    </div>
    <div class="cubie" style="transform: translate3d(60px, 0, 0);">
      <div class="face front"></div>
      <div class="face back"></div>
      <div class="face right blue"></div>
      <div class="face left"></div>
      <div class="face top"></div>
      <div class="face bottom"></div>
    </div>
    <div class="cubie" style="transform: translate3d(-60px, 60px, 0);">
      <div class="face front"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left green"></div>
      <div class="face top"></div>
      <div class="face bottom yellow"></div>
    </div>
    <div class="cubie" style="transform: translate3d(0, 60px, 0);">
      <div class="face front"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left"></div>
      <div class="face top"></div>
      <div class="face bottom yellow"></div>
    </div>
    <div class="cubie" style="transform: translate3d(60px, 60px, 0);">
      <div class="face front"></div>
      <div class="face back"></div>
      <div class="face right blue"></div>
      <div class="face left"></div>
      <div class="face top"></div>
      <div class="face bottom yellow"></div>
    </div>

    <!-- Layer 3 (Front Layer) -->
    <div class="cubie" style="transform: translate3d(-60px, -60px, 60px);">
      <div class="face front orange"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left green"></div>
      <div class="face top white"></div>
      <div class="face bottom"></div>
    </div>
    <div class="cubie" style="transform: translate3d(0, -60px, 60px);">
      <div class="face front orange"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left"></div>
      <div class="face top white"></div>
      <div class="face bottom"></div>
    </div>
    <div class="cubie" style="transform: translate3d(60px, -60px, 60px);">
      <div class="face front orange"></div>
      <div class="face back"></div>
      <div class="face right blue"></div>
      <div class="face left"></div>
      <div class="face top white"></div>
      <div class="face bottom"></div>
    </div>
    <div class="cubie" style="transform: translate3d(-60px, 0, 60px);">
      <div class="face front orange"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left green"></div>
      <div class="face top"></div>
      <div class="face bottom"></div>
    </div>
    <div class="cubie" style="transform: translate3d(0, 0, 60px);">
      <div class="face front orange"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left"></div>
      <div class="face top"></div>
      <div class="face bottom"></div>
    </div>
    <div class="cubie" style="transform: translate3d(60px, 0, 60px);">
      <div class="face front orange"></div>
      <div class="face back"></div>
      <div class="face right blue"></div>
      <div class="face left"></div>
      <div class="face top"></div>
      <div class="face bottom"></div>
    </div>
    <div class="cubie" style="transform: translate3d(-60px, 60px, 60px);">
      <div class="face front orange"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left green"></div>
      <div class="face top"></div>
      <div class="face bottom yellow"></div>
    </div>
    <div class="cubie" style="transform: translate3d(0, 60px, 60px);">
      <div class="face front orange"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left"></div>
      <div class="face top"></div>
      <div class="face bottom yellow"></div>
    </div>
    <div class="cubie" style="transform: translate3d(60px, 60px, 60px);">
      <div class="face front orange"></div>
      <div class="face back"></div>
      <div class="face right blue"></div>
      <div class="face left"></div>
      <div class="face top"></div>
      <div class="face bottom yellow"></div>
    </div>
  </div>
  <script>
    const scene = document.querySelector('.scene');
    const cubies = document.querySelectorAll('.cubie');

    function rotateLayer(layer, axis, angle) {
      layer.forEach(cubie => {
        cubie.style.transform += ` rotate${axis.toUpperCase()}(${angle}deg)`;
      });
    }

    function getLayer(axis, index) {
      const layers = {
        x: [
          [cubies[0], cubies[1], cubies[2], cubies[3], cubies[4], cubies[5], cubies[6], cubies[7], cubies[8]], // Front layer
          [cubies[9], cubies[10], cubies[11], cubies[12], cubies[13], cubies[14], cubies[15], cubies[16], cubies[17]], // Middle layer
          [cubies[18], cubies[19], cubies[20], cubies[21], cubies[22], cubies[23], cubies[24], cubies[25], cubies[26]] // Back layer
        ],
        y: [
          [cubies[0], cubies[1], cubies[2], cubies[9], cubies[10], cubies[11], cubies[18], cubies[19], cubies[20]], // Top layer
          [cubies[3], cubies[4], cubies[5], cubies[12], cubies[13], cubies[14], cubies[21], cubies[22], cubies[23]], // Middle layer
          [cubies[6], cubies[7], cubies[8], cubies[15], cubies[16], cubies[17], cubies[24], cubies[25], cubies[26]] // Bottom layer
        ],
        z: [
          [cubies[0], cubies[3], cubies[6], cubies[9], cubies[12], cubies[15], cubies[18], cubies[21], cubies[24]], // Left layer
          [cubies[1], cubies[4], cubies[7], cubies[10], cubies[13], cubies[16], cubies[19], cubies[22], cubies[25]], // Middle layer
          [cubies[2], cubies[5], cubies[8], cubies[11], cubies[14], cubies[17], cubies[20], cubies[23], cubies[26]] // Right layer
        ]
      };
      return layers[axis][index];
    }

    function scrambleCube() {
      // Example scramble: rotate some layers randomly
      rotateLayer(getLayer('x', 0), 'x', 90);
      rotateLayer(getLayer('y', 1), 'y', -90);
      rotateLayer(getLayer('z', 2), 'z', 180);
    }

    function solveCube() {
      // Example solve: reverse the scramble
      rotateLayer(getLayer('x', 0), 'x', -90);
      rotateLayer(getLayer('y', 1), 'y', 90);
      rotateLayer(getLayer('z', 2), 'z', -180);
    }

    function toggleCubeState() {
      if (scene.classList.contains('scrambled')) {
        solveCube();
        scene.classList.remove('scrambled');
      } else {
        scrambleCube();
        scene.classList.add('scrambled');
      }
    }

    // Initially scramble the cube
    scrambleCube();

    // Toggle cube state every 5 seconds
    setInterval(toggleCubeState, 5000);
  </script>
</body>
</html>