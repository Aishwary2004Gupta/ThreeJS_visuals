<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Solar Vortex Shader 3D</title>
  <style>
    body { margin: 0; overflow: hidden; background: black; }
    #container { width: 100vw; height: 100vh; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/examples/js/controls/OrbitControls.min.js"></script>
</head>
<body>
<div id="container"></div>
<script type="x-shader/x-vertex" id="vertShader">
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
</script>
<script type="x-shader/x-fragment" id="fragShader">
precision highp float;
uniform float u_time;
uniform vec2 u_resolution;
varying vec2 vUv;

#define PI 3.14159265359

void main() {
  vec2 uv = vUv;
  vec2 center = uv - 0.5;
  center.x *= u_resolution.x / u_resolution.y;

  float angle = atan(center.y, center.x);
  float radius = length(center);

  float swirl = sin(angle * 6.0 - u_time * 1.5) * 0.3 + 0.5;
  float glow = exp(-10.0 * abs(radius - swirl));

  vec3 color = vec3(0.0); // Start with black
  color += vec3(1.0, 0.5, 0.0) * glow; // Orange
  color += vec3(1.0) * (glow * 0.5);   // Add white glow

  gl_FragColor = vec4(color, 1.0);
}
</script>
<script>
const container = document.getElementById('container');
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 100);
camera.position.z = 2;

const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(window.innerWidth, window.innerHeight);
container.appendChild(renderer.domElement);

// Controls
const controls = new OrbitControls(camera, renderer.domElement);
controls.enableDamping = true;

// Shader material
const uniforms = {
  u_time: { value: 0.0 },
  u_resolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) }
};

const material = new THREE.ShaderMaterial({
  vertexShader: document.getElementById('vertShader').textContent,
  fragmentShader: document.getElementById('fragShader').textContent,
  uniforms: uniforms
});

// Plane geometry (you can use a sphere or other geometry for more 3D effect)
const geometry = new THREE.PlaneGeometry(2, 2, 1, 1);
const mesh = new THREE.Mesh(geometry, material);
scene.add(mesh);

// Handle resize
window.addEventListener('resize', () => {
  renderer.setSize(window.innerWidth, window.innerHeight);
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  uniforms.u_resolution.value.set(window.innerWidth, window.innerHeight);
});

// Animation loop
function animate(time) {
  uniforms.u_time.value = time * 0.001;
  controls.update();
  renderer.render(scene, camera);
  requestAnimationFrame(animate);
}
animate(0);
</script>
</body>
</html>
